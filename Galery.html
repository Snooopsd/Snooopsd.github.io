<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-widgth, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="./styles/GalleryPage/body_style.css">
        <link rel="stylesheet" href="./styles/GalleryPage/header_style.css">
        <link rel="stylesheet" href="./styles/GalleryPage/footer_style.css">
        <link rel="stylesheet" href="./styles/GalleryPage/main_style.css">
        <title>PupuWoo</title>
    </head>
    <body>
        <section class="header_wrap"> <!--Хэдер-->
            <header>
                <div class="logo">
                    <a href="./index.html"><img src="./images/logo.svg"></a>
                </div>
                <div class="menu-icon" id="menu-icon">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <nav>
                        <ul>
                            <li></li>
                            <li>
                                <button class="login">Логин</button>
                            </li>
                            <li>
                                <button class="register">Регистрация</button>
                            </li>
                            <li>
                                <form class="search-form">
                                    <input class="search-input" type="text" placeholder="Поиск фотографий или авторов">
                                    <button class="search-button" type="submit"></button>
                                </form>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="menu">
                    <div class="search">
                        <form class="search-form">
                            <input class="search-input" type="text" placeholder="Поиск фотографий или авторов">
                            <button class="search-button" type="submit"></button>
                        </form>
                    </div>
                    <div class="buttons">
                        <button class="login">Логин</button>
                        <button class="register">Регистрация</button>
                    </div>
                </div>
            </header>
        </section>
        <section> <!--Тело страницы-->
            <div class="section-name"> <!--Название раздела-->
                <h1>Галерея</h1>
            </div>
            <div class="section-photos"> <!--Тело для фоток-->
                <div class="add-button">
                    <button id="open-modal">+</button>
                </div>

                <div id="overlay"></div>

                <div id="myModal" class="modal">
                    <div class="modal-name">
                        <img src="./images/back.svg" id="back-button" alt="Назад">
                        <h1>Публикация фотографии</h1>
                    </div>
                    <div class="modal-content">
                        <div class="left-section">
                            <input type="file" id="fileInput">
                            <img id="uploadImage" alt="Загрузите фотографию" src="./images/background/BackgroundImage001.jpg">
                            <button id="uploadButton">Загрузить фотографию</button>
                        </div>
                        <div class="right-section">
                            <input type="text" id="imageTitle" placeholder="Название фотографии">
                            <button id="publishButton">Опубликовать</button>
                        </div>
                    </div>
                </div>

                <div class="photo-tile">
                    <img src="photo1.jpg" alt="Фотография 1">
                    <div class="photo-details">
                        <p>Название фотографии 1</p>
                        <p>Автор: Имя Автора</p>
                    </div>
                </div>
            </div>
        </section>
        <section> <!--Футер-->
            <footer>
                <div class="footer-content">
                    <div class="company-info">
                        <p>Фликов ИВТ-01</p>
                        <p>Snooopsd@yandex.ru</p>
                    </div>
                    <div class="social-links">
                        <a href="https://vk.com/id81656573"><img src="./images/VK Logo.svg" alt="Вконтаке"></a>
                        <a href="https://t.me/ssfser"><img src="./images/tg logo.svg" alt="Telegram"></a>
                    </div>
                </div>
                <div class="footer-info">
                    <p>&copy; 2023, Все права защищены</p>
                </div>
            </footer>
        </section>

        <script>
            const menuIcon = document.getElementById("menu-icon");
            const nav = document.querySelector("nav");

            menuIcon.addEventListener("click", () => {
                nav.classList.toggle("active"); // Добавить или удалить класс "active" у элемента nav
            });
        </script>
        <script>
            const openButton = document.getElementById('open-modal');
            const closeButton = document.getElementById('back-button');
            const modal = document.getElementById('myModal');
            const overlay = document.getElementById('overlay');
            const fileInput = document.getElementById("fileInput");
            const uploadedImage = document.getElementById("uploadedImage");
            const imageTitle = document.getElementById("imageTitle");
            const publishButton = document.getElementById("publishButton");
            const uploadButton = document.getElementById("uploadButton");
            
            openButton.addEventListener('click', () => {
                modal.style.display = 'block';
                overlay.style.display = 'block';
            });

            closeButton.addEventListener('click', () => {
                modal.style.display = 'none';
                overlay.style.display = 'none';
            });

            // Обработчик нажатия кнопки "Загрузить фотографию"
            uploadButton.addEventListener("click", openModal);

            // Обработчик выбора файла
            fileInput.addEventListener("change", function() {
                const file = fileInput.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        uploadedImage.src = e.target.result;
                        uploadedImage.style.display = "block";
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Обработчик нажатия кнопки "Опубликовать"
            publishButton.addEventListener("click", function() {
                const title = imageTitle.value;
                // Здесь можно обработать данные и отправить на сервер, если необходимо
                // Затем можно закрыть модальное окно
                closeModal();
            });
        </script>
    </body>
</html>